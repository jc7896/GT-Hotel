<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GT HOTEL - RESERVATION</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸï¸</text></svg>">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() { emailjs.init("ykorov92qkbV_EyHR"); })();
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: #0f0f0f; color: white; font-family: 'Noto Sans KR', sans-serif; overflow-x: hidden; }
        .container { max-width: 600px; margin: 50px auto; padding: 40px; background: #1a1a1a; border-radius: 15px; border: 1px solid #333; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        h1 { font-family: 'Orbitron'; color: #ff1e1e; text-align: center; margin-bottom: 30px; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #ccc; }
        input, select, textarea { width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: white; border-radius: 5px; }
        input:focus, select:focus, textarea:focus { border-color: #ff1e1e; outline: none; }
        .btn-submit { width: 100%; padding: 15px; background: #ff1e1e; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 18px; font-family: 'Orbitron'; transition: 0.3s; }
        .btn-submit:hover { background: #cc0000; transform: translateY(-2px); }
        .btn-back { display: block; text-align: center; margin-top: 20px; color: #888; text-decoration: none; transition: 0.3s; }
        .btn-back:hover { color: white; }
    </style>
</head>
<body>
    <div class="container">
        <h1>BOOKING FORM</h1>
        <form id="bookingForm">
            <div class="form-group">
                <label>ì´ë¦„ (Name)</label>
                <input type="text" id="name" placeholder="ì˜ˆ: í™ê¸¸ë™" required>
            </div>
            <div class="form-group">
                <label>ì²´í¬ì¸ ë‚ ì§œ (Date)</label>
                <input type="date" id="date" required>
            </div>
            <div class="form-group">
                <label>ê°ì‹¤ íƒ€ì… (Room Type)</label>
                <select id="room">
                    <option value="standard">STANDARD ROOM</option>
                    <option value="deluxe">DELUXE ROOM</option>
                    <option value="vip">VIP ROOM</option>
                </select>
            </div>
            <div class="form-group">
                <label>í”„ë¡œëª¨ì…˜ ì½”ë“œ (Promo Code)</label>
                <input type="text" id="promoCode" placeholder="ì½”ë“œê°€ ìˆë‹¤ë©´ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            <div class="form-group">
                <label>ìš”ì²­ì‚¬í•­ (Request)</label>
                <textarea id="request" rows="3" placeholder="ì¶”ê°€ ìš”ì²­ì‚¬í•­ì„ ì ì–´ì£¼ì„¸ìš”."></textarea>
            </div>
            <button type="button" class="btn-submit" onclick="sendReservation()">CONFIRM BOOKING</button>
        </form>
        <a href="garage.html" class="btn-back">â† ê°ì‹¤ ë‹¤ì‹œ ì„ íƒí•˜ê¸°</a>
    </div>

    <script>
        window.addEventListener('load', function() {
            const params = new URLSearchParams(window.location.search);
            if(params.get('date')) document.getElementById('date').value = params.get('date');
            if(params.get('room')) document.getElementById('room').value = params.get('room');
            if(params.get('code')) document.getElementById('promoCode').value = params.get('code');
        });

        function sendReservation() {
            const btn = document.querySelector(".btn-submit");
            const name = document.getElementById('name').value;
            const date = document.getElementById('date').value;
            
            if(!name || !date) { alert("ì˜ˆì•½ì ì„±í•¨ê³¼ ë‚ ì§œë¥¼ ì…ë ¥í•´ ì£¼ì‹­ì‹œì˜¤."); return; }

            btn.innerText = "SENDING..."; 
            
            var templateParams = {
                name: name, date: date, room: document.getElementById('room').value,
                code: document.getElementById('promoCode').value, request: document.getElementById('request').value
            };

            emailjs.send('service_20kqmba', 'template_e3neon6', templateParams)
                .then(function() {
                    alert('ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! í™•ì¸ ë©”ì¼ì„ ë°œì†¡í–ˆìŠµë‹ˆë‹¤.');
                    location.href = "index.html"; 
                }, function(error) {
                    alert('ì˜¤ë¥˜ ë°œìƒ: ' + JSON.stringify(error));
                    btn.innerText = "CONFIRM BOOKING";
                });
        }
    </script>
</body>
</html>